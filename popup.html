<!DOCTYPE html>
<html>
  <head>
    <title>Welcome to Vue</title>
    <script src="./js/vue.js"></script>
    <script src="./js/vue-resource.min.js"></script>
    <script src="./js/accounting.js"></script>
    <link rel="stylesheet" href="css/materialize.min.css">
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <div id="app">
      <div class="row">
	<div v-for="currency in message.currencies" class="col s12">
	  <div class="card">
	    <div class="card-content teal-text accent-3">
	      <span class="bank_name">{{ currency.bank_name }} Bank</span>
	      <div v-for="rate in currency.rates"> 
		<div class="row" v-for="currency_name in Object.keys(rate)"
                  :key="currency.bank_name + '_' + currency_name"> 
                  <converter v-bind:currency_name="currency_name" v-bind:rate="rate[currency_name]"
                  v-bind:bank_name="currency.bank_name"/>
		</div>                 
	      </div>
	    </div>
	  </div>
	</div>
      </div>
    </div>

    <template id="converter-template">
      <div class="row cyan lighten-5 converter-panel">
        <div class="row">
          <div class="col s6">
            <input name="type" v-model="type" type="radio" :id="bank_name + '_' + currency_name + '_buy'" value="buy">
            <label :for="bank_name + '_' + currency_name + '_buy'">Buy</label>
          </div>
          <div class="col s6">
            <input name="type" v-model="type" type="radio" :id="bank_name + '_' + currency_name + '_sell'" value="sell">
            <label :for="bank_name + '_' + currency_name + '_sell'">Sell</label>
          </div>

        </div>
        <div class="row">
          <div class="input-field col s6"> 
            <input id="{{type}}_{{type}}" type="text" class="validate" v-model="foreignAmount">
            <label for="{{type}}" class="active">{{currency_name}}</label> 
          </div> 
          <div class="input-field col s6"> 
            <input id="{{type}}_mmk" type="text" class="validate" v-model="mmkAmount"> 
            <label for="MMK" class="active">MMK</label> 
          </div>
          <div class="input-field col s12 teal-text darken-2">
            1 {{currency_name}} = {{rate}} 
          </div>
        </div>
      </div>
    </template>
    <script src="./js/popup.js"></script>
  </body>
</html>
